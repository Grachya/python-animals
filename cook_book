cook_book = {}

with open('./recipes.txt', encoding="utf-8") as file:
    for k, line in enumerate(file):
        ingredients_list = []
        if k > 0:
            dish = file.readline().strip()
        else:
            dish = line.strip()
        ingredients_len = int(file.readline().strip())
        while ingredients_len > 0:
            ingredient = {}
            ingredient_list = file.readline().strip().split('|')
            ingredient['ingredient_name'] = ingredient_list[0].strip()
            ingredient['quantity'] = ingredient_list[1].strip()
            ingredient['measure'] = ingredient_list[2].strip()
            ingredients_len -= 1
            ingredients_list.append(ingredient)
        cook_book[dish] = ingredients_list
        
print(cook_book)

